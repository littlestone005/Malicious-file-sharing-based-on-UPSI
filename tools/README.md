# 恶意文件检测系统工具

## 数据库初始化工具 (init_db.py)

这个简化版的脚本用于重新初始化系统数据库，包括：

1. 删除现有的数据库文件
2. 创建全新的数据库结构
3. 添加默认用户账号
4. 添加样例威胁数据

### 使用方法

```bash
# 从项目根目录运行
python tools/init_db.py
```

### 重要提示

1. 运行此脚本将 **删除所有现有数据**，包括用户、威胁特征和扫描记录。
2. 脚本执行后，默认创建以下用户：
   - 管理员用户: `admin` (密码: `admin`)
   - 测试用户: `testuser` (密码: `test123`)
3. **必须重启后端服务** 才能应用新的数据库结构
4. 脚本会自动检测后端服务和前端服务是否在运行:
   - 对于**后端服务**，提供以下选项：
     - 自动关闭后端服务（推荐）
     - 在不关闭服务的情况下继续操作（可能导致问题）
     - 取消操作
   - 对于**前端服务**，提供选项：
     - 自动关闭前端服务（推荐，但非必须）
     - 保持前端服务运行（不会造成数据库问题）

### 故障排除

如果遇到"无法登录服务器"的问题：

1. 确保运行了数据库初始化脚本
2. 关闭所有后端进程
3. 重启后端服务：`python -m backend.main`
4. 重启前端服务（如果已关闭）：`cd frontend && npm run dev`
5. 使用管理员账号登录：用户名 `admin`，密码 `admin`

如果还有问题，检查后端服务的日志输出是否有错误信息。 